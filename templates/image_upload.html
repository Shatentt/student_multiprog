<!DOCTYPE html>
<html>
<head>
    <title>Загрузка картинки</title>
    <link rel="stylesheet" href="/static/css/image_upload.css">
</head>
<body>
    <h1>Загрузите картинку для распознавания текста</h1>
    <form action="/text-recognize/done" method="post" enctype="multipart/form-data">
        <input type="file" id="fileInput" name="file">
        <br><br>
        <label for="language">Выберите язык:</label>
        <select name="language" id="language">
            <option value="en">Английский</option>
            <option value="ru">Русский</option>
        </select>
        <br><br>
        <h2>Загруженная картинка:</h2>
        <img class="user_img" id="previewImg" src="" onerror="this.style.visibility = 'hidden'">
        <script>
            const fileInput = document.getElementById('fileInput');
            const previewImg = document.getElementById('previewImg');
            document.getElementById('previewImg').style.visibility = "visible";
            fileInput.addEventListener('change', function() {
                const file = this.files[0];
                if (file) {
                    const reader = new FileReader();
                    reader.addEventListener('load', function() {
                        previewImg.src = reader.result;
                    });
                    reader.readAsDataURL(file);
                }
            });
        </script>
        <br><br>
        <input type="submit" value="Распознать текст">
    </form>
</body>
</html>